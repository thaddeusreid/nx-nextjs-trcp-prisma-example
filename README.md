# BoundlessSample

<a href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>

✨ **This workspace has been generated by [Nx, a Smart, fast and extensible build system.](https://nx.dev)** ✨

## Notes from Thaddeus
Hello, thanks for taking a look at my example of a monorepo architectuere containing a Next.js React application and two libraries: (1) A tRPC server that connects to a PostgreSQL database using the (2) Prisma ORM.

### Steps to Initialize and Explore the Project
* `npm install`: Install all dependencies
* `cp libs/prisma/.env.example libs/prisma/.env`: Duplicate `.env.example` to `.env` and provide a `POSTGRES_PASSWORD` for the database initialization.
* `cd libs/prisma && docker-compose up -d`: Start the PostgreSQL database
* `npx prisma migrate dev`: Run the first migration to create a DB with the `User` table.
* `npx nx serve auth-example`: Build the Next.js app in development mode locally
* Open `http://localhost:4200/`
* Fill out Login form and click "Login"
* `npx prisma studio` to open the PostgreSQL database viewer, and confirm that the User table has been created! 

### Steps I took to get this up and running:
1. `npx create-nx-workspace boundless-sample --packageManager=npm`
  2. Familiarize myself with `nx` project
3. `npx nx serve auth-example`
4. `npm install -D tailwindcss postcss autoprefixer --save-exact`
5. Investigate lint warning from Typescript: “refers to a UMD global, but the current file is a module. Consider adding an import instead”
	1. Problem is resolved by setting `tsconfig.json -> jsx: “react-jsx”`, but `next.js` is picky on this setting and sets it back.
6. Built initial UI
7. Initialized `api` lib: `npx nx g library api`
8. Installed tRPC into `api` and Next app.
9. Debugged more typescript errors…
10. Connected client with `useMutation()` to POST to the tRPC server
11. Initialized Prisma
12. Created `docker-compose.yaml` for PostgreSQL
13. Configured and connected Prisma
14. Prisma Migrate + Generate: `npx prisma migrate dev --name init`
15. Tested to confirm functionality. 

### Resources I used:
* https://nx.dev/getting-started/intro
* https://trpc.io/docs/nextjs
* https://www.prisma.io/docs/getting-started

## Development server

Run `nx serve auth-example` for a dev server. Navigate to http://localhost:4200/. The app will automatically reload if you change any of the source files.

## Understand this workspace

Run `nx graph` to see a diagram of the dependencies of the projects.

## Remote caching

Run `npx nx connect-to-nx-cloud` to enable [remote caching](https://nx.app) and make CI faster.

## Further help

Visit the [Nx Documentation](https://nx.dev) to learn more.
